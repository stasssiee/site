\usepackage[utf8]{inputenc}
\usepackage[margin=1.0in]{geometry}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{enumitem}                       % custom enum labels
\usepackage{parskip}                        % add vertical paragraph space
\usepackage{tocloft}						% modify toc position
\usepackage{xr}								% cross-references
\usepackage{mathtools}						% Aboxed
\usepackage{empheq}							% box multiple lines
\usepackage{upgreek}
\usepackage{gensymb}
\usepackage{chemformula}
\usepackage{esint}							% oiint
\usepackage{cancel}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{asymptote}
\usepackage[framemethod=TikZ]{mdframed}     % graphics and framed envs
\usepackage[hang,flushmargin]{footmisc}		% remove footnote indentation
\usepackage[hyperfootnotes=false,
					hidelinks]{hyperref}	% create clickable table of contents
\usepackage{cancel}

\newcommand{\tarc}{\mbox{\large$\frown$}}
\newcommand{\arc}[1]{\stackrel{\tarc}{#1}}
%\newcommand{\degree}{^{\circ}}
\newcommand{\blank}{\_\_\_\_\_\_}

\DeclareMathOperator\cis{cis}
\DeclareMathOperator\Arg{Arg}


\renewcommand{\familydefault}{\sfdefault}  	% sans serifs text
\setlength{\parindent}{0pt}                	% no paragraph indentation

% region TITLES
%\setbox0=\hbox{\Huge{\textbf{\textsf{\courseid: }}}}
\setlength{\cftbeforetoctitleskip}{0em}
\setlength{\cftaftertoctitleskip}{1em}
%\renewcommand{\contentsname}{\hangindent=\wd0 \strut \courseid: \coursetitle \\ \medskip {\professor, \campus, \semester}}

% region COMMANDS
\newcommand{\ds}{\displaystyle}
\newcommand{\pfn}[1]{\textrm{#1}}	% enables new functions
\newcommand{\mbf}[1]{\mathbf{#1}}	% mathbf
\newcommand{\C}{\mathbb{C}}			% fancy C
\newcommand{\R}{\mathbb{R}}			% fancy R
\newcommand{\Q}{\mathbb{Q}}			% fancy Q
\newcommand{\Z}{\mathbb{Z}}			% fancy Z
\newcommand{\N}{\mathbb{N}}			% fancy N
\newcommand{\dd}{\mathrm{d}}
\newcommand{\from}{\leftarrow}
\newcommand{\qed}{$\square$}
\newcommand{\ex}{\textit{Exercise }}
% endregion

\let\footnoterule\relax
\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}

\usepackage{titlesec}
\titleformat{\chapter}{\Huge\normalfont\bfseries}{\thechapter}{1em}{}
\titlespacing*{\chapter}{0em}{0em}{2em}
% endregion

% region ENVIRONMENTS
\newcounter{theo}[chapter]\setcounter{theo}{0}
\newcommand{\numTheo}{\arabic{chapter}.\arabic{theo}}
\newcommand{\mdftheo}[3]{
	\mdfsetup{
		frametitle={
			\tikz[baseline=(current bounding box.east),outer sep=0pt]
			\node[anchor=east,rectangle,fill=#3]
			{\ifstrempty{#2}{\strut #1~\numTheo}{\strut #1~\numTheo:~#2}};
		},
		innertopmargin=4pt,linecolor=#3,linewidth=2pt,
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax,
		skipabove=11pt,skipbelow=0pt
	}
}
\newcommand{\mdfnontheo}[3]{
	\mdfsetup{
		frametitle={
			\tikz[baseline=(current bounding box.east),outer sep=0pt]
			\node[anchor=east,rectangle,fill=#3]
			{\ifstrempty{#2}{\strut #1}{\strut #1:~#2}};
		},
		innertopmargin=4pt,linecolor=#3,linewidth=2pt,
		frametitleaboveskip=\dimexpr-\ht\strutbox\relax,
		skipabove=11pt,skipbelow=0pt
	}
}
\newcommand{\mdfproof}[1]{
	\mdfsetup{
		skipabove=11pt,skipbelow=0pt,
		innertopmargin=4pt,innerbottommargin=4pt,
		topline=false,rightline=false,
		linecolor=#1,linewidth=2pt
	}
}


\newenvironment{theorem}[1][]{
	\refstepcounter{theo}
	\mdftheo{Theorem}{#1}{red!25}
	\begin{mdframed}[]\relax
}{\end{mdframed}}

\newenvironment{lemma}[1][]{
	\refstepcounter{theo}
	\mdftheo{Lemma}{#1}{red!15}
	\begin{mdframed}[]\relax
}{\end{mdframed}}

\newenvironment{corollary}[1][]{
	\refstepcounter{theo}
	\mdftheo{Corollary}{#1}{red!15}
	\begin{mdframed}[]\relax
}{\end{mdframed}}

\newenvironment{definition}[1][]{
	\mdfnontheo{Definition}{#1}{blue!20}
	\begin{mdframed}[]\relax
}{\end{mdframed}}

\newenvironment{exercise}[1][]{
	\mdfproof{black!15}
	\textit{Exercise. }
}

\newenvironment{proof}[1][]{
	\mdfproof{black!15}
	\begin{mdframed}[]\relax
\textit{Proof. }}{\qed \end{mdframed}}

\newenvironment{claim}[1][]{
	\mdfproof{black!15}
	\begin{mdframed}[]\relax
\textit{Claim. }}{\end{mdframed}}

\newenvironment{example}[1][]{
	\mdfnontheo{Example}{#1}{yellow!40}
	\begin{mdframed}[]\relax
}{\end{mdframed}}

\newenvironment{summary}[1][]{
	\mdfnontheo{Summary}{#1}{green!70!black!30}
	\begin{mdframed}[]\relax
}{\end{mdframed}}
% endregion

\let\oldsum\sum
\renewcommand{\sum}{\oldsum\limits}

\let\oldlim\lim
\renewcommand{\lim}{\oldlim\limits}

\let\oldprod\prod
\renewcommand{\prod}{\oldprod\limits}

\let\oldbigcup\bigcup
\renewcommand{\bigcup}{\oldbigcup\limits}

\let\oldbigcap\bigcap
\renewcommand{\bigcap}{\oldbigcap\limits}

\let\oldmax\max
\renewcommand{\max}{\oldmax\limits}

\let\oldmin\min
\renewcommand{\min}{\oldmin\limits}

\let\oldsup\sup
\renewcommand{\sup}{\oldsup\limits}

\let\oldinf\inf
\renewcommand{\inf}{\oldinf\limits}